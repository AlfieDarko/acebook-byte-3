console.log("here")
$(document).ready(function() {
  var id = 0
  var mySpan = ''
  console.log("inside")

  $("a[id]").promise().done(function() {
    $("a[id^='like_']").off('click').on('click', function() {
        console.log("click")
        id = parseInt(this.id.replace("like_", ""), 10);
        mySpan = $("#likes_span_" + id);
        mySpan.html('<%= j(render partial: "likes/like", locals: {post: @post}) %>');
        console.log("last promise done")
    });
  });
// console.log("id", id);
// console.log("mySpan", mySpan);
  // 
  // mySpan.promise().done(function() {
  //   mySpan.html('<%= j(render partial: "likes/like", locals: {post: @post}) %>');
  //   console.log("last promise done")
  // });

});
